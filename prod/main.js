(()=>{var t={540:()=>{if("/"==window.location.pathname&&(window.location.pathname="/index.html"),"/index.html"===document.location.pathname){const a=document.getElementById("posts-box"),n=document.getElementById("pagination-box"),o=new URLSearchParams(window.location.search);async function t(t){const n=await e(t);document.querySelector(".post-prev")&&document.querySelectorAll(".post-prev").forEach((t=>{t.remove()}));for(let t=0;t<n.data.length;++t){const e=document.createElement("article"),o=document.createElement("p"),i=document.createElement("h3"),m=document.createElement("p"),c=document.createElement("a");e.classList.add("post-prev"),i.classList.add("post-prev__title"),m.classList.add("post-prev__body"),o.classList.add("post-prev__user"),c.classList.add("post-prev__link"),i.textContent=n.data[t].title,m.textContent=n.data[t].body,o.textContent=n.data[t].user_id,c.setAttribute("href",`post.html?page=${Number(n.meta.pagination.page)}&post_id=${n.data[t].id}`),e.append(i),e.append(m),e.append(o),e.append(c),a.append(e)}}async function e(t){const e=await fetch(`https://gorest.co.in/public-api/posts?page=${t}`);return await e.json()}(async function a(i){const m=await e(i),c=document.createElement("div"),p=document.createElement("span"),d=document.createElement("input");document.querySelector(".pagination__box")&&document.querySelector(".pagination__box").remove();for(let t=-2;t<3;++t){const e=document.createElement("button");1===Number(m.meta.pagination.page)&&(e.textContent=Number(m.meta.pagination.page)+t+2,e.setAttribute("pageNumber",`${Number(m.meta.pagination.page)+t+2}`)),2===Number(m.meta.pagination.page)&&(e.textContent=Number(m.meta.pagination.page)+t+1,e.setAttribute("pageNumber",`${Number(m.meta.pagination.page)+t+1}`)),Number(m.meta.pagination.page)>2&&Number(m.meta.pagination.page)<=Number(m.meta.pagination.pages)-2&&(e.textContent=Number(m.meta.pagination.page)+t,e.setAttribute("pageNumber",`${Number(m.meta.pagination.page)+t}`)),Number(m.meta.pagination.page)===Number(m.meta.pagination.pages)-1&&(e.textContent=Number(m.meta.pagination.page)+t-1,e.setAttribute("pageNumber",""+(Number(m.meta.pagination.page)+t-1))),Number(m.meta.pagination.page)===Number(m.meta.pagination.pages)&&(e.textContent=Number(m.meta.pagination.page)+t-2,e.setAttribute("pageNumber",""+(Number(m.meta.pagination.page)+t-2))),e.classList.add("pagination__btn"),c.classList.add("pagination__box"),e.getAttribute("pageNumber")==Number(m.meta.pagination.page)&&e.classList.add("pagination__btn--active"),c.append(e)}p.textContent=` из ${Number(m.meta.pagination.pages)} страниц. Быстрый переход:`,p.classList.add("pagination__length"),d.setAttribute("id","pagination-number"),d.setAttribute("type","number"),d.setAttribute("min","1"),d.classList.add("pagination__input"),c.append(p),c.append(d),n.append(c),document.querySelectorAll(".pagination__btn").forEach((e=>{const n=e.getAttribute("pageNumber");e.addEventListener("click",(()=>{o.set("page",`${n}`),a(o.get("page")),t(o.get("page"))}))})),function(e){const n=document.getElementById("pagination-number");let i;n.addEventListener("input",(()=>{n.value>Number(e.meta.pagination.pages)&&(n.value=Number(e.meta.pagination.pages)),clearTimeout(i),i=setTimeout((()=>{o.set("page",n.value),a(o.get("page")),t(o.get("page"))}),800)}))}(m)})(o.get("page")),t(o.get("page"))}},481:()=>{if("/post.html"===document.location.pathname){const a=document.getElementById("post-box"),n=document.createElement("div"),o=document.createElement("div"),i=new URLSearchParams(window.location.search),m=document.getElementById("post-back-link");async function t(t){const i=await e(t);document.querySelector(".comment")&&document.querySelectorAll(".comment").forEach((t=>{t.remove()}));for(let t in i.data){const e=document.createElement("article"),a=document.createElement("h3"),n=document.createElement("p"),m=document.createElement("p");a.textContent=i.data[t].name,n.textContent=`(${i.data[t].email})`,m.textContent=i.data[t].body,e.classList.add("comment"),a.classList.add("comment__author"),n.classList.add("comment__email"),m.classList.add("comment__body"),e.append(a),e.append(n),e.append(m),o.append(e)}a.append(n)}async function e(t){const e=await fetch(`https://gorest.co.in/public-api/comments?post_id=${i.get("post_id")}&page=${t}`,{method:"GET",headers:{Authorization:"Bearer 6e3f8db40faa8ff7cc1016ad04528011604ba032f018cca91f5fa2cfb15984d2"}});return await e.json()}n.classList.add("comment__container"),o.classList.add("comment__box"),m.setAttribute("href",`index.html?page=${i.get("page")}`),n.append(o),async function(){const t=await async function(){const t=await fetch(`https://gorest.co.in/public-api/posts/${i.get("post_id")}`);return await t.json()}(),e=document.createElement("article"),n=document.createElement("h1"),o=document.createElement("p"),m=document.createElement("p");n.textContent=t.data.title,o.textContent=t.data.body,m.textContent=`ID автора ${t.data.user_id}`,e.classList.add("post__article"),n.classList.add("post__title"),o.classList.add("post__body"),m.classList.add("post__user"),e.append(n),e.append(o),e.append(m),a.prepend(e)}(),async function a(n){const m=await e(n),c=document.createElement("div"),p=document.createElement("h2"),d=document.createElement("div"),s=document.createElement("input"),r=document.createElement("label");p.textContent="Комментарии",s.value=m.meta.pagination.page,s.setAttribute("type","number"),s.setAttribute("min","1"),s.setAttribute("id","comment-page-input"),r.textContent=` из ${m.meta.pagination.pages} страниц`,r.setAttribute("for","comment-page-input"),c.classList.add("comment__pagination-box"),p.classList.add("comment__title"),d.classList.add("comment__pagination-input-box"),s.classList.add("comment__pagination-input"),r.classList.add("comment__pagination-length"),document.querySelector(".comment__pagination-box")&&(document.querySelector(".comment__pagination-box").remove(),document.querySelector(".comment__title").remove()),d.prepend(s),d.append(r),c.prepend(p),c.append(d),o.prepend(c),function(e){const n=document.querySelector(".comment__pagination-input");let o;n&&n.addEventListener("input",(()=>{n.value>e.meta.pagination.pages&&(n.value=e.meta.pagination.pages),i.set("com_page",`${n.value}`),clearTimeout(o),o=setTimeout((()=>{a(i.get("com_page")),t(i.get("com_page"))}),300)}))}(m)}(),function(){const e=document.createElement("div"),a=document.createElement("form"),o=document.createElement("h2"),m=document.createElement("input"),c=document.createElement("input"),p=document.createElement("input"),d=document.createElement("button");e.classList.add("add-comment"),a.classList.add("add-comment__form"),o.classList.add("add-comment__title"),m.classList.add("add-comment__name","add-comment__input"),c.classList.add("add-comment__email","add-comment__input"),p.classList.add("add-comment__body","add-comment__input"),d.classList.add("add-comment__btn","add-comment__input"),o.textContent="Добавить новый комментарий",m.setAttribute("placeholder","Введите имя"),m.setAttribute("name","name"),m.setAttribute("autocomplete",""),c.setAttribute("placeholder","Введите e-mail"),c.setAttribute("type","email"),p.setAttribute("placeholder","Введите комментарий"),p.setAttribute("type","text"),d.textContent="Отправить",a.onsubmit=e=>{e.preventDefault(),async function(t,e,a){const n=await fetch("https://gorest.co.in/public-api/comments",{method:"POST",headers:{Authorization:"Bearer 6e3f8db40faa8ff7cc1016ad04528011604ba032f018cca91f5fa2cfb15984d2","Content-type":"application/json"},body:JSON.stringify({post_id:i.get("post_id"),name:`${t}`,email:`${e}`,body:`${a}`})});await n.json()}(m.value.trim(),c.value.trim(),p.value.trim()),a.reset(),t(i.get("com_page"))},a.append(m),a.append(c),a.append(p),a.append(d),e.prepend(o),e.append(a),n.prepend(e)}(),t()}}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";a(540),a(481)})()})();